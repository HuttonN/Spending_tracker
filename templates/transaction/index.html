{% extends 'base.html' %}

{% block content %}

    <!-- header-start -->
    <header>
        <div id="logo_transactions">
            Spending summary
        </div>
    </header>
    <nav>
        <ul>
            <li>
                <a href="">Home</a>
            </li>
            <li>
                <a href="">My merchants</a>
            </li>
            <li>
                <a href="">My tags</a>
            </li>
            <li>
                <a href="">Analytics</a>
            </li>
        </ul>
    </nav>
    <!-- header-end -->

    <section class="Charts">
        SDGF
    </section>
    <!-- Filter and sort buttons start -->
    <a href="/spending_summary/sort_ascend">
        <button class="btn btn-primary btn-lg">Sort (date ascending)</button>
    </a>
    <a href="/spending_summary/sort_descend">
        <button class="btn btn-primary btn-lg">Sort (date descending)</button>
    </a>
    <select name="months" id="months">
        <option value="">All months</option>
        <option value="January">January</option>
        <option value="February">February</option>
        <option value="March">March</option>
        <option value="April">April</option>
        <option value="May">May</option>
        <option value="June">June</option>
        <option value="July">July</option>
        <option value="August">August</option>
        <option value="September">September</option>
        <option value="October">Octobber</option>
        <option value="November">November</option>
        <option value="December">December</option>
    </select>
    <select name="tags" id="tags">
        <option value="">All tags</option>
        {% for tag in tags %}
            <option value = {{tag.name}}>{{tag.name}}</option>
        {% endfor %}
    </select>
    <select name="merchants" id="merchants">
        <option value="">All merchants</option>
        {% for merchant in merchants %}
            <option value = {{merchant.name}}>{{merchant.name}}</option>
        {% endfor %}
    </select>
    <!-- Filter and sort buttons end -->

    <!-- List of transactions start -->
    <section>
        <table>
            <tr>
                <th>Tag</th>
                <th>Merchant</th>
                <th>Date</th>
                <th>Amount</th>
                <th class="last_column"></th>
            </tr>
            {% for transaction in transactions %}
            <tr>
                <td>{{ transaction.tag.name }}</td>
                <td>{{ transaction.merchant.name }}</td>
                <td>{{ transaction.date.strftime("%b %d %Y") }}</td>
                <td>{{ transaction.amount }}</td>
                <td class="last_column"></td>
            </tr>
            {% endfor %}
            <tr>
                <td></td>
                <td></td>
                <td>Total:</td>
                <td>{{ total }}</td>
                <td></td>
            </tr>
        </table>
    </section>
    <a href="/spending_summary/new">
        <button class="btn btn-primary btn-lg">New transaction</button>
    </a>
{% endblock content %}